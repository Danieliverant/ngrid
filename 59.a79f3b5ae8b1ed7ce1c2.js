(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{mJ4B:function(e,t,o){"use strict";o.r(t),o.d(t,"InfiniteScrollPerformanceDemoExampleModule",(function(){return $}));var a=o("D57K"),n=o("2kYt"),i=o("29Wa"),l=o("R7+U"),r=o("v9BS"),c=o("F1o0"),s=o("+Tre"),d=o("csyo"),u=o("XApm"),p=o("ykWx"),b=o("/kex"),h=o("WNo/"),m=o("APkL"),f=o("e6z7"),g=o("ZL4A"),w=o("e5Uy"),v=o("mcY/"),y=o("cc5W"),C=o("3JFK"),x=o("zBLU"),S=o("JRn2"),M=o("EM62"),T=o("qFEQ"),I=o("Ht9o"),k=o("CWpx"),L=o("ZpNZ"),G=o("8O0y"),P=o("R3BP"),R=o("S3zY"),B=o("EVGB"),Y=o("cePI"),D=o("cUDL"),X=o("bDyC"),O=o("H1Fh"),A=o("yxzw"),J=o("inZm"),N=o("4HpT");function j(e,t){if(1&e){const e=M.Zb();M.Yb(0,"mat-slider",10),M.gc("change",(function(t){return M.zc(e),M.kc().wheelMode=t.value})),M.Xb()}if(2&e){const e=M.kc();M.rc("value",e.wheelMode)}}function z(e,t){if(1&e&&(M.Yb(0,"div",17),M.Lc(1),M.lc(2,"currency"),M.Xb()),2&e){const e=t.value,o=t.col,a=t.row;M.rc("ngridCellClass",e<0?o.type.data.pbl:o.type.data.pos),M.Gb(1),M.Mc(M.oc(2,2,e,o.type.data.meta.currency(a),"symbol",o.type.data.format))}}function F(e,t){if(1&e&&(M.Yb(0,"div"),M.Lc(1),M.Xb()),2&e){const e=t.col,o=t.row;M.Gb(1),M.Mc(e.type.data.flagAndCountry(o))}}function W(e,t){1&e&&M.Tb(0,"mat-spinner",20)}function U(e,t){if(1&e&&(M.Yb(0,"span"),M.Lc(1),M.Xb()),2&e){const e=M.kc().value;M.Gb(1),M.Mc(e)}}function V(e,t){if(1&e&&(M.Yb(0,"div"),M.Jc(1,W,1,0,"mat-spinner",18),M.Jc(2,U,2,1,"span",19),M.Xb()),2&e){const e=t.value;M.Gb(1),M.rc("ngIf",!e),M.Gb(1),M.rc("ngIf",e)}}function E(e,t){if(1&e&&M.Tb(0,"pbl-ngrid-row",21),2&e){const e=t.$implicit;M.rc("grid",t.gridInstance)("row",e)}}const _=function(){return["id"]};function H(e,t){if(1&e&&(M.Yb(0,"pbl-ngrid",11),M.Tb(1,"pbl-demo-action-row",12),M.Jc(2,z,3,7,"div",13),M.Jc(3,F,2,1,"div",14),M.Jc(4,V,3,2,"div",15),M.Jc(5,E,1,2,"pbl-ngrid-row",16),M.Xb()),2&e){const e=M.kc();M.rc("dataSource",e.ds)("columns",e.columns)("wheelMode",e.wheelMode)("hideColumns",e.hideColumns),M.Gb(2),M.rc("pblNgridCellTypeDef","accountBalance"),M.Gb(1),M.rc("pblNgridCellTypeDef","flagAndCountry"),M.Gb(1),M.rc("pblNgridCellDef","id"),M.Gb(1),M.rc("pblNgridInfiniteVirtualRowRefColumns",M.sc(8,_))}}const Z={currency:e=>{var t;return null===(t=Z.data.countries[e.country])||void 0===t?void 0:t.currencies[0]},flagAndCountry:e=>Z.flag(e)+" "+Z.name(e),name:e=>{var t;return null===(t=Z.data.countries[e.country])||void 0===t?void 0:t.name},flag:e=>{var t;return null===(t=Z.data.countries[e.country])||void 0===t?void 0:t.emoji},data:void 0},Q={name:"accountBalance",data:{pbl:"balance-negative",pos:"balance-positive",format:"1.0-2",meta:Z}};function q(e=!1){const t=t=>e?void 0:t;return Object(u.s)().default({minWidth:100,resize:!0}).table({prop:"drag_and_drop_handle",type:"drag_and_drop_handle",minWidth:48,maxWidth:48},{prop:"selection",width:"48px"},{prop:"id",pIndex:!0,width:"40px"},{prop:"name",sort:!0,reorder:!0},{prop:"country",headerType:t("country"),type:t({name:"flagAndCountry",data:Z}),width:"150px"},{prop:"jobTitle"},{prop:"accountId"},{prop:"accountType",reorder:!0},{prop:"primeAccount",type:t("visualBool"),width:"24px"},{prop:"creditScore",type:t("starRatings"),width:"50px"},{prop:"balance",type:t(Q),sort:!0},...Array.from(new Array(12)).map(((e,o)=>({prop:"monthlyBalance."+o,type:t(Q),sort:!0})))).headerGroup({prop:"name",span:2,label:"Customer Info"},{prop:"accountId",span:4,label:"Account Info"},{prop:"monthlyBalance.0",label:"Monthly Balance"}).footer({id:"reref",label:"FOOTER"}).footer({id:"rere123f",label:"FOOTER2"}).build()}let K=(()=>{let e=class{constructor(e,t,o){this.datasource=e,this.client=t,this.cdr=o,this.columns=q(),this.ds=this.getDatasource(),this.wheelMode="passive",this.wheelModeState="passive",this.plainColumns=!1,this.showTable=!0,this.hideColumns=[]}toggleColumn(e,t){const o=e.indexOf(t);-1===o?e.push(t):e.splice(o,1)}togglePlainColumns(){this.plainColumns=!this.plainColumns,this.showTable=!1,setTimeout((()=>{this.showTable=!0,this.columns=q(this.plainColumns),this.ds=this.getDatasource(),this.cdr.detectChanges()}),100)}wheelModeChange(e){switch(this.wheelModeState=e.value,this.wheelModeState){case"passive":case"blocking":this.wheelMode=this.wheelModeState;break;default:this.wheelMode=15}}getDatasource(){return Object(v.b)().withInfiniteScrollOptions({blockSize:100,initialVirtualSize:100}).withCacheOptions("sequenceBlocks").setCustomTriggers("filter").onTrigger((e=>{if(e.isInitial)return this.datasource.getCountries().then((e=>Z.data=e)).then((()=>this.client.getCustomers({pagination:{itemsPerPage:100,page:1}}))).then((t=>(this.ds.updateVirtualSize(t.pagination.totalItems),e.updateTotalLength(t.pagination.totalItems),t.items)));{const t=Math.floor(e.fromRow/100)+1;return this.client.getCustomers({pagination:{itemsPerPage:100,page:t}}).then((e=>e.items))}})).create()}};return e.\u0275fac=function(t){return new(t||e)(M.Sb(S.a),M.Sb(S.b),M.Sb(M.h))},e.\u0275cmp=M.Mb({type:e,selectors:[["pbl-infinite-scroll-performance-demo-example"]],viewQuery:function(e,t){var o;1&e&&M.Rc(u.h,!0),2&e&&M.vc(o=M.hc())&&(t.pblTable=o.first)},decls:14,vars:5,consts:[["fxLayout","column","fxLayoutGap","16px",1,"pbl-fill-absolute"],["fxLayout","row","fxLayoutGap","16px",2,"width","100%"],["fxLayout","row","fxLayoutGap","8px",3,"value","change"],["value","passive"],["value","blocking"],["value","threshold"],["thumbLabel","","min","1","max","55",3,"value","change",4,"ngIf"],[3,"value","change"],[2,"flex","1 1 100%","display","flex","min-height","0px"],["class","pbl-ngrid-cell-ellipsis pbl-ngrid-header-cell-ellipsis","style","height: 100%; width: 100%;","vScrollAuto","","maxBufferPx","100","minBufferPx","50","showHeader","","showFooter","","rowReorder","","columnReorder","","blockUi","","matSort","","cellTooltip","","matCheckboxSelection","selection",3,"dataSource","columns","wheelMode","hideColumns",4,"ngIf"],["thumbLabel","","min","1","max","55",3,"value","change"],["vScrollAuto","","maxBufferPx","100","minBufferPx","50","showHeader","","showFooter","","rowReorder","","columnReorder","","blockUi","","matSort","","cellTooltip","","matCheckboxSelection","selection",1,"pbl-ngrid-cell-ellipsis","pbl-ngrid-header-cell-ellipsis",2,"height","100%","width","100%",3,"dataSource","columns","wheelMode","hideColumns"],["filter","","label","Virtual Scroll Performance","showFps",""],[3,"ngridCellClass",4,"pblNgridCellTypeDef"],[4,"pblNgridCellTypeDef"],[4,"pblNgridCellDef"],[3,"grid","row",4,"pblNgridInfiniteVirtualRowRef","pblNgridInfiniteVirtualRowRefColumns"],[3,"ngridCellClass"],["diameter","24",4,"ngIf"],[4,"ngIf"],["diameter","24"],[3,"grid","row"]],template:function(e,t){1&e&&(M.Yb(0,"div",0),M.Yb(1,"div",1),M.Yb(2,"mat-radio-group",2),M.gc("change",(function(e){return t.wheelModeChange(e)})),M.Yb(3,"mat-radio-button",3),M.Lc(4,"Passive"),M.Xb(),M.Yb(5,"mat-radio-button",4),M.Lc(6,"Blocking"),M.Xb(),M.Yb(7,"mat-radio-button",5),M.Lc(8),M.Xb(),M.Xb(),M.Jc(9,j,1,1,"mat-slider",6),M.Xb(),M.Yb(10,"mat-checkbox",7),M.gc("change",(function(){return t.togglePlainColumns()})),M.Lc(11,"Use plain columns (higher frame rate)"),M.Xb(),M.Yb(12,"div",8),M.Jc(13,H,6,9,"pbl-ngrid",9),M.Xb(),M.Xb()),2&e&&(M.Gb(2),M.rc("value",t.wheelModeState),M.Gb(6),M.Nc("Threshold","threshold"===t.wheelModeState?" ("+t.wheelMode+")":"",""),M.Gb(1),M.rc("ngIf","threshold"===t.wheelModeState),M.Gb(1),M.rc("value",t.plainColumns),M.Gb(3),M.rc("ngIf",t.showTable))},directives:[T.f,T.g,c.b,c.a,n.t,s.a,r.a,I.a,k.b,L.b,G.c,P.b,R.b,B.b,Y.a,D.b,X.a,O.a,A.a,J.a,d.c,N.a],pipes:[n.d],styles:[".balance-negative{background:rgba(255,0,0,.33)}.balance-positive{background:rgba(0,128,0,.33)}"],encapsulation:2,changeDetection:0}),e=Object(a.a)([Object(y.e)("pbl-infinite-scroll-performance-demo-example",{title:"Infinite Scroll Performance Demo"})],e),e})(),$=(()=>{let e=class{};return e.\u0275mod=M.Qb({type:e}),e.\u0275inj=M.Pb({factory:function(t){return new(t||e)},providers:[u.p],imports:[[n.c,i.e,l.b,r.b,c.c,s.b,d.b,C.a,x.b,u.l.withCommon([{component:x.a}]),p.a.withDefaultTemplates(),b.a,h.a,m.a,f.a,g.a,w.a,v.a]]}),e=Object(a.a)([Object(y.a)(K)],e),e})()}}]);