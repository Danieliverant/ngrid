(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{"+9h+":function(t,e,i){"use strict";i.d(e,"a",function(){return a});var r=i("cGur"),c=i("ofXK"),o=i("Dh3D"),n=i("bTqV"),s=i("XEBs");class l extends s.l{constructor(t){super(),this.cfr=t,this.name="sortContainer",this.kind="dataHeaderExtensions",this.projectContent=!0}shouldRender(t){return!!t.col.sort&&!!t.injector.get(o.a,!1)}getFactory(t){return this.cfr.resolveComponentFactory(o.b)}onCreated(t,e){this.deregisterId(t,e.instance.id=t.col.id),e.changeDetectorRef.markForCheck()}deregisterId(t,e){const i=t.injector.get(o.a),r=i.sortables.get(e);r&&i.deregister(r)}}var d=i("fXoL");let a=(()=>{class t{constructor(t,e){this.registry=t,t.addMulti("dataHeaderExtensions",new l(e))}}return t.NGRID_PLUGIN=Object(s.v)({id:r.a},r.b),t.\u0275mod=d.Qb({type:t}),t.\u0275inj=d.Pb({factory:function(e){return new(e||t)(d.cc(s.o),d.cc(d.j))},imports:[[c.c,n.c,o.c,s.k],o.c]}),t})()},cGur:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s});var r=i("XEBs"),c=i("fXoL"),o=i("Dh3D");const n="matSort";let s=(()=>{class t{constructor(t,e,i){this.table=t,this.pluginCtrl=e,this.sort=i,this._removePlugin=e.setPlugin(n,this);let c="click";this.sort.sortChange.pipe(r.x.unrx(this)).subscribe(t=>{this.onSort(t,c),c="click"});const o=t=>{const{column:e}=t,i=t.sort?t.sort.order:void 0;if(this.sort&&e){if(this.sort.active===e.id&&this.sort.direction===(i||""))return;const t=this.sort.sortables.get(e.id);t&&(c="ds",this.sort.active=void 0,t.start=i||"asc",t._handleClick())}else if(this.sort.active){const t=this.sort.sortables.get(this.sort.active);if(t){if(!t.disableClear){let e;for(;e=this.sort.getNextSortDirection(t);)this.sort.direction=e}c="ds",t._handleClick()}}};e.events.subscribe(e=>{if("onInvalidateHeaders"===e.kind){const e=this.sort&&this.sort.active;t.ds&&t.ds.sort&&(!t.ds.sort.column&&e?this.onSort({active:this.sort.active,direction:this.sort.direction||"asc"},c):t.ds.sort.column&&!e&&setTimeout(()=>o(t.ds.sort)))}"onDataSource"===e.kind&&(r.x.unrx.kill(this,e.prev),this.sort&&this.sort.active&&this.onSort({active:this.sort.active,direction:this.sort.direction||"asc"},c),t.ds.sortChange.pipe(r.x.unrx(this,e.curr)).subscribe(t=>{o(t)}))})}ngOnDestroy(){this._removePlugin(this.table),r.x.unrx.kill(this)}onSort(t,e){const i=this.table,r=i.columnApi.visibleColumns.find(e=>e.id===t.active);if("click"===e&&r&&r.sort){const e={},c="function"==typeof r.sort&&r.sort;t.direction&&(e.order=t.direction),c&&(e.sortFn=c);const o=i.ds.sort;if(r===o.column&&e.order===(o.sort||{}).order)return;i.ds.setSort(r,e)}}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(r.g),c.Sb(r.n),c.Sb(o.a))},t.\u0275dir=c.Nb({type:t,selectors:[["pbl-ngrid","matSort",""]],exportAs:["pblMatSort"]}),t})()},g7cI:function(t,e,i){"use strict";i.r(e),i.d(e,"ContextExampleExampleModule",function(){return $});var r=i("mrSG"),c=i("XEBs"),o=i("YT2F"),n=i("WPM6"),s=i("4dOD"),l=i("ewPf"),d=i("+9h+"),a=i("fluT"),p=i("fXoL"),b=i("XkVd"),u=i("cGur"),f=i("rIse"),h=i("Dh3D"),g=i("IJFs"),x=i("mxEP"),m=i("nve3"),v=i("ibH8");function w(t,e){if(1&t&&(p.Yb(0,"div"),p.Yb(1,"input",3),p.gc("change",function(t){return e.$implicit.value=t.target.value}),p.Xb(),p.Yb(2,"button",4),p.gc("click",function(){return e.$implicit.stopEdit()}),p.Lc(3,"X"),p.Xb(),p.Xb()),2&t){const t=e.$implicit;p.Gb(1),p.rc("value",t.value)("pblCellEditAutoFocus",t)}}function C(t,e){if(1&t&&p.Tb(0,"pbl-ngrid-paginator",5),2&t){const t=e.$implicit;p.rc("table",t)("paginator",t.ds.paginator)}}let G=(()=>{let t=class{constructor(t){this.datasource=t,this.columns=Object(c.s)().table({prop:"id",pIndex:!0,width:"50px"},{prop:"name",width:"200px",sort:!0},{prop:"gender",width:"50px"},{prop:"birthdate",type:"date",width:"25%"}).build(),this.ds=Object(c.t)().onTrigger(()=>this.datasource.getPeople(100,500)).create()}};return t.\u0275fac=function(e){return new(e||t)(p.Sb(a.a))},t.\u0275cmp=p.Mb({type:t,selectors:[["pbl-context-example-example"]],decls:3,vars:3,consts:[["usePagination","","matSort","",3,"dataSource","columns","cellClick"],[4,"pblNgridCellEditorDef"],[3,"table","paginator",4,"pblNgridPaginatorRef"],[3,"value","pblCellEditAutoFocus","change"],[3,"click"],[3,"table","paginator"]],template:function(t,e){1&t&&(p.Yb(0,"pbl-ngrid",0),p.gc("cellClick",function(t){return t.context.startEdit()}),p.Jc(1,w,4,2,"div",1),p.Jc(2,C,1,2,"pbl-ngrid-paginator",2),p.Xb()),2&t&&(p.rc("dataSource",e.ds)("columns",e.columns),p.Gb(1),p.rc("pblNgridCellEditorDef","name"))},directives:[b.a,u.b,f.c,h.a,g.a,x.a,m.a,v.a],styles:[""],encapsulation:2,changeDetection:0}),t=Object(r.a)([Object(o.e)("pbl-context-example-example",{title:"Context Example"}),Object(r.b)("design:paramtypes",[a.a])],t),t})();var N=i("aR4q");function D(t,e){if(1&t&&(p.Yb(0,"div"),p.Lc(1),p.Xb()),2&t){const t=e.$implicit;p.Gb(1),p.Nc(" ",t.rowContext.dsIndex," ")}}function X(t,e){if(1&t&&(p.Yb(0,"div"),p.Lc(1),p.Xb()),2&t){const t=e.$implicit;p.Gb(1),p.Nc(" ",t.rowContext.index," ")}}function j(t,e){if(1&t&&(p.Yb(0,"div"),p.Lc(1),p.Xb()),2&t){const t=e.$implicit;p.Gb(1),p.Nc(" ",!!t.rowContext.firstRender," ")}}function k(t,e){if(1&t&&(p.Yb(0,"div"),p.Lc(1),p.Xb()),2&t){const t=e.$implicit;p.Gb(1),p.Nc(" ",!!t.rowContext.outOfView," ")}}function S(t,e){if(1&t&&(p.Yb(0,"div"),p.Lc(1),p.Xb()),2&t){const t=e.$implicit;p.Gb(1),p.Nc(" ",t.rowContext.count," ")}}function y(t,e){if(1&t&&(p.Yb(0,"div"),p.Lc(1),p.Xb()),2&t){const t=e.$implicit;p.Gb(1),p.Nc(" ",!!t.rowContext.even," ")}}function O(t,e){if(1&t&&(p.Yb(0,"div"),p.Lc(1),p.Xb()),2&t){const t=e.$implicit;p.Gb(1),p.Nc(" ",!!t.rowContext.odd," ")}}function Y(t,e){if(1&t&&(p.Yb(0,"div"),p.Lc(1),p.Xb()),2&t){const t=e.$implicit;p.Gb(1),p.Nc(" ",!!t.rowContext.first," ")}}function E(t,e){if(1&t&&(p.Yb(0,"div"),p.Lc(1),p.Xb()),2&t){const t=e.$implicit;p.Gb(1),p.Nc(" ",!!t.rowContext.last," ")}}function J(t,e){if(1&t&&(p.Yb(0,"div"),p.Lc(1),p.Xb()),2&t){const t=e.$implicit;p.Gb(1),p.Nc(" ",t.rowContext.identity," ")}}let L=(()=>{let t=class{constructor(t){this.datasource=t,this.columns=Object(c.s)().table({prop:"id",width:"50px"},{prop:"name",width:"100px",pIndex:!0},{prop:"firstRender",width:"50px"},{prop:"outOfView",width:"50px"},{prop:"dsIndex",width:"50px"},{prop:"index",width:"50px"},{prop:"count",width:"50px"},{prop:"odd",width:"50px"},{prop:"even",width:"50px"},{prop:"first",width:"50px"},{prop:"last",width:"50px"},{prop:"identity",width:"100px"}).build(),this.ds=Object(c.t)().onTrigger(()=>this.datasource.getPeople(100,500)).create()}};return t.\u0275fac=function(e){return new(e||t)(p.Sb(a.a))},t.\u0275cmp=p.Mb({type:t,selectors:[["pbl-context-object-example"]],decls:11,vars:12,consts:[[3,"dataSource","columns"],[4,"pblNgridCellDef"]],template:function(t,e){1&t&&(p.Yb(0,"pbl-ngrid",0),p.Jc(1,D,2,1,"div",1),p.Jc(2,X,2,1,"div",1),p.Jc(3,j,2,1,"div",1),p.Jc(4,k,2,1,"div",1),p.Jc(5,S,2,1,"div",1),p.Jc(6,y,2,1,"div",1),p.Jc(7,O,2,1,"div",1),p.Jc(8,Y,2,1,"div",1),p.Jc(9,E,2,1,"div",1),p.Jc(10,J,2,1,"div",1),p.Xb()),2&t&&(p.rc("dataSource",e.ds)("columns",e.columns),p.Gb(1),p.rc("pblNgridCellDef","dsIndex"),p.Gb(1),p.rc("pblNgridCellDef","index"),p.Gb(1),p.rc("pblNgridCellDef","firstRender"),p.Gb(1),p.rc("pblNgridCellDef","outOfView"),p.Gb(1),p.rc("pblNgridCellDef","count"),p.Gb(1),p.rc("pblNgridCellDef","even"),p.Gb(1),p.rc("pblNgridCellDef","odd"),p.Gb(1),p.rc("pblNgridCellDef","first"),p.Gb(1),p.rc("pblNgridCellDef","last"),p.Gb(1),p.rc("pblNgridCellDef","identity"))},directives:[b.a,N.a],styles:[""],encapsulation:2,changeDetection:0}),t=Object(r.a)([Object(o.e)("pbl-context-object-example",{title:"Context Object"}),Object(r.b)("design:paramtypes",[a.a])],t),t})(),$=(()=>{let t=class{};return t.\u0275mod=p.Qb({type:t}),t.\u0275inj=p.Pb({factory:function(e){return new(e||t)},imports:[[n.a,c.k,s.a,l.a,d.a]]}),t=Object(r.a)([Object(o.a)(G,L)],t),t})()}}]);