(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{"+9h+":function(t,e,r){"use strict";r.d(e,"a",function(){return d});var i=r("cGur"),s=r("ofXK"),o=r("Dh3D"),n=r("bTqV"),c=r("XEBs");class a extends c.l{constructor(t){super(),this.cfr=t,this.name="sortContainer",this.kind="dataHeaderExtensions",this.projectContent=!0}shouldRender(t){return!!t.col.sort&&!!t.injector.get(o.a,!1)}getFactory(t){return this.cfr.resolveComponentFactory(o.b)}onCreated(t,e){this.deregisterId(t,e.instance.id=t.col.id),e.changeDetectorRef.markForCheck()}deregisterId(t,e){const r=t.injector.get(o.a),i=r.sortables.get(e);i&&r.deregister(i)}}var l=r("fXoL");let d=(()=>{class t{constructor(t,e){this.registry=t,t.addMulti("dataHeaderExtensions",new a(e))}}return t.NGRID_PLUGIN=Object(c.v)({id:i.a},i.b),t.\u0275mod=l.Qb({type:t}),t.\u0275inj=l.Pb({factory:function(e){return new(e||t)(l.cc(c.o),l.cc(l.j))},imports:[[s.c,n.c,o.c,c.k],o.c]}),t})()},cGur:function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"b",function(){return c});var i=r("XEBs"),s=r("fXoL"),o=r("Dh3D");const n="matSort";let c=(()=>{class t{constructor(t,e,r){this.table=t,this.pluginCtrl=e,this.sort=r,this._removePlugin=e.setPlugin(n,this);let s="click";this.sort.sortChange.pipe(i.x.unrx(this)).subscribe(t=>{this.onSort(t,s),s="click"});const o=t=>{const{column:e}=t,r=t.sort?t.sort.order:void 0;if(this.sort&&e){if(this.sort.active===e.id&&this.sort.direction===(r||""))return;const t=this.sort.sortables.get(e.id);t&&(s="ds",this.sort.active=void 0,t.start=r||"asc",t._handleClick())}else if(this.sort.active){const t=this.sort.sortables.get(this.sort.active);if(t){if(!t.disableClear){let e;for(;e=this.sort.getNextSortDirection(t);)this.sort.direction=e}s="ds",t._handleClick()}}};e.events.subscribe(e=>{if("onInvalidateHeaders"===e.kind){const e=this.sort&&this.sort.active;t.ds&&t.ds.sort&&(!t.ds.sort.column&&e?this.onSort({active:this.sort.active,direction:this.sort.direction||"asc"},s):t.ds.sort.column&&!e&&setTimeout(()=>o(t.ds.sort)))}"onDataSource"===e.kind&&(i.x.unrx.kill(this,e.prev),this.sort&&this.sort.active&&this.onSort({active:this.sort.active,direction:this.sort.direction||"asc"},s),t.ds.sortChange.pipe(i.x.unrx(this,e.curr)).subscribe(t=>{o(t)}))})}ngOnDestroy(){this._removePlugin(this.table),i.x.unrx.kill(this)}onSort(t,e){const r=this.table,i=r.columnApi.visibleColumns.find(e=>e.id===t.active);if("click"===e&&i&&i.sort){const e={},s="function"==typeof i.sort&&i.sort;t.direction&&(e.order=t.direction),s&&(e.sortFn=s);const o=r.ds.sort;if(i===o.column&&e.order===(o.sort||{}).order)return;r.ds.setSort(i,e)}}}return t.\u0275fac=function(e){return new(e||t)(s.Sb(i.g),s.Sb(i.n),s.Sb(o.a))},t.\u0275dir=s.Nb({type:t,selectors:[["pbl-ngrid","matSort",""]],exportAs:["pblMatSort"]}),t})()},g7cI:function(t,e,r){"use strict";r.r(e),r.d(e,"ContextExampleExampleModule",function(){return w});var i=r("mrSG"),s=r("XEBs"),o=r("YT2F"),n=r("WPM6"),c=r("4dOD"),a=r("ewPf"),l=r("+9h+"),d=r("fluT"),u=r("fXoL"),p=r("XkVd"),b=r("cGur"),h=r("rIse"),g=r("Dh3D"),f=r("IJFs"),m=r("mxEP"),v=r("nve3"),x=r("ibH8");function k(t,e){if(1&t&&(u.Yb(0,"div"),u.Yb(1,"input",3),u.gc("change",function(t){return e.$implicit.value=t.target.value}),u.Xb(),u.Yb(2,"button",4),u.gc("click",function(){return e.$implicit.stopEdit()}),u.Lc(3,"X"),u.Xb(),u.Xb()),2&t){const t=e.$implicit;u.Gb(1),u.rc("value",t.value)("pblCellEditAutoFocus",t)}}function C(t,e){if(1&t&&u.Tb(0,"pbl-ngrid-paginator",5),2&t){const t=e.$implicit;u.rc("table",t)("paginator",t.ds.paginator)}}let S=(()=>{let t=class{constructor(t){this.datasource=t,this.columns=Object(s.s)().table({prop:"id",pIndex:!0,width:"50px"},{prop:"name",width:"200px",sort:!0},{prop:"gender",width:"50px"},{prop:"birthdate",type:"date",width:"25%"}).build(),this.ds=Object(s.t)().onTrigger(()=>this.datasource.getPeople(100,500)).create()}};return t.\u0275fac=function(e){return new(e||t)(u.Sb(d.a))},t.\u0275cmp=u.Mb({type:t,selectors:[["pbl-context-example-example"]],decls:3,vars:3,consts:[["usePagination","","matSort","",3,"dataSource","columns","cellClick"],[4,"pblNgridCellEditorDef"],[3,"table","paginator",4,"pblNgridPaginatorRef"],[3,"value","pblCellEditAutoFocus","change"],[3,"click"],[3,"table","paginator"]],template:function(t,e){1&t&&(u.Yb(0,"pbl-ngrid",0),u.gc("cellClick",function(t){return t.context.startEdit()}),u.Jc(1,k,4,2,"div",1),u.Jc(2,C,1,2,"pbl-ngrid-paginator",2),u.Xb()),2&t&&(u.rc("dataSource",e.ds)("columns",e.columns),u.Gb(1),u.rc("pblNgridCellEditorDef","name"))},directives:[p.a,b.b,h.c,g.a,f.a,m.a,v.a,x.a],styles:[""],encapsulation:2,changeDetection:0}),t=Object(i.a)([Object(o.e)("pbl-context-example-example",{title:"Context Example"}),Object(i.b)("design:paramtypes",[d.a])],t),t})(),w=(()=>{let t=class{};return t.\u0275mod=u.Qb({type:t}),t.\u0275inj=u.Pb({factory:function(e){return new(e||t)},imports:[[n.a,s.k,c.a,a.a,l.a]]}),t=Object(i.a)([Object(o.a)(S)],t),t})()}}]);